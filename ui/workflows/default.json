{
  "id": "workflow-1",
  "name": "Obelisk Workflow",
  "nodes": [
    {
      "id": "12",
      "type": "telegram_listener",
      "position": {
        "x": 11,
        "y": 170
      },
      "inputs": {},
      "metadata": {
        "bot_token": "",
        "poll_interval": 2
      }
    },
    {
      "id": "15",
      "type": "telegram_memory_creator",
      "position": {
        "x": 916,
        "y": 236
      },
      "inputs": {},
      "metadata": {
        "summarize_threshold": 20
      }
    },
    {
      "id": "16",
      "type": "memory_storage",
      "position": {
        "x": 585,
        "y": 641
      },
      "inputs": {},
      "metadata": {
        "storage_path": "default",
        "storage_type": "local_json"
      }
    },
    {
      "id": "4",
      "type": "model_loader",
      "position": {
        "x": 327,
        "y": 432
      },
      "inputs": {},
      "metadata": {
        "model_path": "models/default_model",
        "auto_load": true
      }
    },
    {
      "id": "7",
      "type": "text",
      "position": {
        "x": 2182,
        "y": 171
      },
      "inputs": {
        "text": ""
      },
      "metadata": {
        "text": ""
      }
    },
    {
      "id": "10",
      "type": "telegram_bot",
      "position": {
        "x": 2581,
        "y": 196
      },
      "inputs": {},
      "metadata": {
        "bot_id": "",
        "group_id": ""
      }
    },
    {
      "id": "17",
      "type": "binary_intent",
      "position": {
        "x": 1525,
        "y": 334
      },
      "inputs": {},
      "metadata": {
        "intent_criteria": "Does this message reference, mention, or address the bot?\n\nLook for:\n- Direct mentions: @TheObeliskTestBot\n- References to: The Obelisk, The Overseer, Obelisk\n- Talking about AI agents, autonomous agents\n- Questions or statements directed at the bot\n- Replies to previous bot messages"
      }
    },
    {
      "id": "6",
      "type": "inference",
      "position": {
        "x": 1917,
        "y": 100
      },
      "inputs": {},
      "metadata": {
        "quantum_influence": 0.7,
        "max_length": 1024,
        "enable_thinking": true
      }
    },
    {
      "id": "14",
      "type": "telegram_memory_selector",
      "position": {
        "x": 936,
        "y": 477
      },
      "inputs": {},
      "metadata": {
        "recent_count": 20,
        "include_summaries": true
      }
    },
    {
      "id": "5",
      "type": "text",
      "position": {
        "x": 1543,
        "y": -81
      },
      "inputs": {},
      "metadata": {
        "text": "You are The Overseer. Respond naturally to the user.\n\nIMPORTANT: When conversation history or memories are provided, you MUST use them to answer questions. Pay attention to facts, preferences, and information mentioned in the conversation history or listed in the memories. If the user asks about something mentioned earlier in the conversation or in the memories, recall it from there.\n\nDo not use emojis in your responses."
      }
    }
  ],
  "connections": [
    {
      "from": "12",
      "from_output": "message",
      "to": "15",
      "to_input": "message"
    },
    {
      "from": "12",
      "from_output": "message",
      "to": "14",
      "to_input": "message"
    },
    {
      "from": "12",
      "from_output": "user_id",
      "to": "15",
      "to_input": "user_id"
    },
    {
      "from": "12",
      "from_output": "username",
      "to": "15",
      "to_input": "username"
    },
    {
      "from": "12",
      "from_output": "chat_id",
      "to": "15",
      "to_input": "chat_id"
    },
    {
      "from": "12",
      "from_output": "chat_id",
      "to": "14",
      "to_input": "chat_id"
    },
    {
      "from": "12",
      "from_output": "chat_id",
      "to": "10",
      "to_input": "group_id"
    },
    {
      "from": "16",
      "from_output": "storage_instance",
      "to": "15",
      "to_input": "storage_instance"
    },
    {
      "from": "16",
      "from_output": "storage_instance",
      "to": "14",
      "to_input": "storage_instance"
    },
    {
      "from": "4",
      "from_output": "model",
      "to": "6",
      "to_input": "model"
    },
    {
      "from": "4",
      "from_output": "model",
      "to": "15",
      "to_input": "model"
    },
    {
      "from": "4",
      "from_output": "model",
      "to": "14",
      "to_input": "model"
    },
    {
      "from": "4",
      "from_output": "model",
      "to": "17",
      "to_input": "model"
    },
    {
      "from": "7",
      "from_output": "text",
      "to": "10",
      "to_input": "message"
    },
    {
      "from": "17",
      "from_output": "message",
      "to": "6",
      "to_input": "query"
    },
    {
      "from": "6",
      "from_output": "response",
      "to": "7",
      "to_input": "text"
    },
    {
      "from": "14",
      "from_output": "context",
      "to": "17",
      "to_input": "context"
    },
    {
      "from": "14",
      "from_output": "context",
      "to": "6",
      "to_input": "context"
    },
    {
      "from": "14",
      "from_output": "message",
      "to": "17",
      "to_input": "message"
    },
    {
      "from": "5",
      "from_output": "text",
      "to": "6",
      "to_input": "system_prompt"
    }
  ]
}
